import{_ as g,c as u,d as o,b as d,A as n,o as m}from"./index-B5JJAsb_.js";import p from"./Share-x1pcsobE.js";const _={class:"container"},f={class:"capture-area"},v={__name:"Send",setup(b){const l=async()=>{const e=document.querySelector(".capture-area");if(!e){alert("找不到截圖區塊");return}try{const r=(await n(e,{useCORS:!0,scale:2})).toDataURL("image/jpeg",.9),a=document.createElement("a");a.href=r,a.download="my_screenshot.jpg",a.click()}catch(t){console.error("截圖錯誤",t)}},i=async()=>{const e=document.querySelector(".capture-area");if(!e){alert("找不到截圖區塊");return}try{const t=await n(e,{useCORS:!0,scale:2}),r=await new Promise(s=>t.toBlob(s,"image/jpeg",.9));if(!r){alert("無法生成圖片");return}const a=new File([r],"screenshot.jpg",{type:"image/jpeg"});if(navigator.canShare&&navigator.canShare({files:[a]}))await navigator.share({title:"我的成果截圖",text:"快來看看我的成果！",files:[a]}),console.log("圖片分享成功");else if(navigator.share)await navigator.share({title:"我的成果頁",text:"快來看看我的成果！",url:"https://emily3231.github.io/white4/home"}),console.log("連結分享成功（無圖片）");else{const s=URL.createObjectURL(r),c=document.createElement("a");c.href=s,c.download="screenshot.jpg",c.click(),URL.revokeObjectURL(s),alert("此瀏覽器不支援分享，已改為下載圖片")}}catch(t){console.error("截圖或分享失敗",t)}},h=async()=>{const e="https://emily3231.github.io/white4/",t="白白大冒險",r="年度回饋活動，走路健康又能賺小樹點！";if(navigator.share)try{await navigator.share({title:t,text:r,url:e}),console.log("連結分享成功")}catch(a){console.log("使用者取消或分享失敗",a)}else await navigator.clipboard.writeText(e),alert(`此瀏覽器不支援分享功能
已複製網址：${e}`)};return(e,t)=>(m(),u("div",_,[o("div",{class:"btn-group"},[o("button",{class:"green_btn",onClick:l},"儲存截圖"),o("button",{class:"green_btn",onClick:i},"截圖並分享"),o("button",{class:"green_btn",onClick:h}," 分享網址")]),o("div",f,[d(p)])]))}},k=g(v,[["__scopeId","data-v-b1600f5f"]]);export{k as default};
