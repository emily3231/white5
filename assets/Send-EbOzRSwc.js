import{_ as u,c as g,d as r,b as d,x as n,o as m}from"./index-BNweA6k3.js";import p from"./Share-Ab9Mopjy.js";const f={class:"container"},_={class:"capture-area"},v={__name:"Send",setup(w){const i=async()=>{const e=document.querySelector(".capture-area");if(!e){alert("找不到截圖區塊");return}try{const o=(await n(e,{useCORS:!0,scale:2})).toDataURL("image/jpeg",.9),a=document.createElement("a");a.href=o,a.download="my_screenshot.jpg",a.click()}catch(t){console.error("截圖錯誤",t)}},l=async()=>{const e=document.querySelector(".capture-area");if(!e){alert("找不到截圖區塊");return}try{const t=await n(e,{useCORS:!0,scale:2}),o=await new Promise(c=>t.toBlob(c,"image/jpeg",.9));if(!o){alert("無法生成圖片");return}const a=new File([o],"screenshot.jpg",{type:"image/jpeg"});if(navigator.canShare&&navigator.canShare({files:[a]}))await navigator.share({title:"我的成果截圖",text:"快來看看我的成果！",files:[a]}),console.log("圖片分享成功");else if(navigator.share)await navigator.share({title:"我的成果頁",text:"快來看看我的成果！",url:"https://emily3231.github.io/white4/home"}),console.log("連結分享成功（無圖片）");else{const c=URL.createObjectURL(o),s=document.createElement("a");s.href=c,s.download="screenshot.jpg",s.click(),URL.revokeObjectURL(c),alert("此瀏覽器不支援分享，已改為下載圖片")}}catch(t){console.error("截圖或分享失敗",t)}},h=async()=>{const e="https://emily3231.github.io/white4/",t="白白大冒險",o="年度回饋活動，走路健康又能賺小樹點！";if(navigator.share)try{await navigator.share({title:t,text:o,url:e}),console.log("連結分享成功")}catch(a){console.log("使用者取消或分享失敗",a)}else await navigator.clipboard.writeText(e),alert(`此瀏覽器不支援分享功能
已複製網址：${e}`)};return(e,t)=>(m(),g("div",f,[r("div",{class:"btn-group"},[r("button",{onClick:i},"儲存截圖"),r("button",{onClick:l},"截圖並分享"),r("button",{onClick:h}," 分享網址")]),r("div",_,[d(p)])]))}},k=u(v,[["__scopeId","data-v-f50cfdf4"]]);export{k as default};
